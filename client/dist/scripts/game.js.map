{"version":3,"file":"game.js","sources":["../../d3/raceVisuals.js","../../models/AppModel.js","../../models/GameDisplayModel.js","../../models/SpeedTyperModel.js","../../views/AppView.js","../../views/StatsView.js","../../views/InputView.js","../../views/ParagraphView.js","../../views/GameDisplayView.js","../../views/GameContainerView.js","../../views/SpeedTyperView.js"],"names":["GameScreen","width","height","threshold","this","prototype","initialize","svg","d3","select","append","attr","selectAll","data","enter","render","playerScore","oppScore","scale","linear","domain","range","difference","playerData","opponentData","push","transition","duration","d","Racer","player","model","RacerModel","correct","numCorrect","get","key","AppModel","Backbone","Model","extend","params","set","GameDisplayModel","SpeedTyperModel","urlRoot","defaults","paragraph","numMissed","currentIndex","wpm","practiceMode","wordsPerView","gameOver","startGame","io","connect","window","location","host","on","console","log","updateOpponent","bind","beginPractice","gameWin","gameLose","beginGame","split","updateCurrentLine","Date","now","trigger","score","fetchText","context","deferred","fetch","url","success","response","text","done","spaceHandler","inputWord","emit","updateWordsPerMinute","getCurrentWord","start","elapsed","index","slice","saveGame","AppView","View","className","gameContainerView","GameContainerView","speedTyperView","SpeedTyperView","$el","html","StatsView","tagName","$statsWpm","$","$statsCorrect","$statsMissed","Math","floor","InputView","prop","disableInput","setCursorAndPlaceholder","events","input","e","currentInput","target","value","length","spacePressHandler","removeClass","addClass","spellChecker","val","focus","substring","currentWord","ParagraphView","updateCurrent","join","updateLines","lineIndex","currentLine","GameDisplayView","update","game","innerWidth","gameStart","gameDisplayView","click .button","statsView","paragraphView","inputView","changeText","$typingView","$statsView","status","remove","restart"],"mappings":"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"}